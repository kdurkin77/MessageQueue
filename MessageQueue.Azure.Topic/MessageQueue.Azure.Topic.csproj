<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFrameworks>netstandard2.0;netstandard2.1;net5;net6;</TargetFrameworks>
    <LangVersion>latest</LangVersion>
    <Nullable>enable</Nullable>
    <Authors>kdurkin77;reed-adams;</Authors>
    <PackageId>KM.MessageQueue.Azure.Topic</PackageId>
    <PackageProjectUrl>https://www.nuget.org/</PackageProjectUrl>
    <PackageLicenseFile>LICENSE</PackageLicenseFile>
    <RepositoryUrl>https://github.com/kdurkin77/MessageQueue</RepositoryUrl>
    <PackageTags>MessageQueue;Queue;MessageReader;Reader;Azure;Topic;</PackageTags>
    <Product>KM.MessageQueue.Azure.Topic</Product>
    <Description>An Azure topic implementation from the interfaces in KM.MessageQueue</Description>
    <PackageReleaseNotes>
		** BREAKING CHANGES **
		AzureTopicMessageQueueOptions now accepts an IMessageFormatter instead of having to register it
		If you do not specify a formatter the default one will be used. The default formatter serializes the object to a json string and then converts the json string to a byte[]
		Added functions UseConnectionString and UseConnectionStringBuilder so you can use either the connection string or pass the parts over and have it built and configure the ServiceBusClientOptions
		AzureTopicMessageQueueReader's MessageHandler now accepts the original message instead of the formatted message and the formatter
	</PackageReleaseNotes>
    <Version>3.0.0</Version>
  </PropertyGroup>

  <PropertyGroup>
    <TreatWarningsAsErrors>true</TreatWarningsAsErrors>
    <RootNamespace>KM.MessageQueue.Azure.Topic</RootNamespace>
    <AssemblyName>KM.MessageQueue.Azure.Topic</AssemblyName>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="Azure.Messaging.ServiceBus" Version="7.6.0" />
    <PackageReference Include="KM.MessageQueue.Formatters.ObjectToJsonString" Version="3.0.0" />
    <PackageReference Include="KM.MessageQueue.Formatters.Specialized.Composition" Version="3.0.0" />
    <PackageReference Include="KM.MessageQueue.Formatters.StringToBytes" Version="3.0.0" />
    <PackageReference Include="Microsoft.Extensions.Logging.Abstractions" Version="6.0.0" />
    <PackageReference Include="Microsoft.Extensions.Options" Version="6.0.0" />
	<PackageReference Include="KM.MessageQueue" Version="3.0.0" />
  </ItemGroup>

  <ItemGroup>
    <None Include="..\LICENSE">
      <Pack>True</Pack>
      <PackagePath></PackagePath>
    </None>
  </ItemGroup>

</Project>
